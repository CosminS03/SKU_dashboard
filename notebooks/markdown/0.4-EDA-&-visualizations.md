```python
import pandas as pd

df = pd.read_csv("../data/interim/online_retail_no_outliers.csv", dtype = {"InvoiceNo": str})
```


```python
df["InvoiceDate"] = pd.to_datetime(df["InvoiceDate"])
df["Date"] = df["InvoiceDate"].dt.strftime("%Y-%m-%d")
```


```python
ros = df[~df["InvoiceNo"].str.startswith('C')].groupby(by = "SKU")["Quantity"].sum().reset_index()

no_weeks = df["Date"].nunique()

ros["Rate_of_sale"] = round((ros["Quantity"] / no_weeks), 2)
```


```python
ros.sort_values(by="Rate_of_sale", ascending=False).head(10)
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>SKU</th>
      <th>Quantity</th>
      <th>Rate_of_sale</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>326</th>
      <td>21498</td>
      <td>7476</td>
      <td>24.51</td>
    </tr>
    <tr>
      <th>770</th>
      <td>22952</td>
      <td>6803</td>
      <td>22.30</td>
    </tr>
    <tr>
      <th>232</th>
      <td>21213</td>
      <td>6377</td>
      <td>20.91</td>
    </tr>
    <tr>
      <th>475</th>
      <td>21975</td>
      <td>6244</td>
      <td>20.47</td>
    </tr>
    <tr>
      <th>838</th>
      <td>23231</td>
      <td>6152</td>
      <td>20.17</td>
    </tr>
    <tr>
      <th>325</th>
      <td>21497</td>
      <td>5450</td>
      <td>17.87</td>
    </tr>
    <tr>
      <th>479</th>
      <td>21985</td>
      <td>5229</td>
      <td>17.14</td>
    </tr>
    <tr>
      <th>837</th>
      <td>23230</td>
      <td>5201</td>
      <td>17.05</td>
    </tr>
    <tr>
      <th>327</th>
      <td>21499</td>
      <td>5002</td>
      <td>16.40</td>
    </tr>
    <tr>
      <th>328</th>
      <td>21500</td>
      <td>4925</td>
      <td>16.15</td>
    </tr>
  </tbody>
</table>
</div>




```python
from src import plots

plots.ros_distribution(ros["Rate_of_sale"])
```


    
![png](0.4-EDA-%26-visualizations_files/0.4-EDA-%26-visualizations_4_0.png)
    

