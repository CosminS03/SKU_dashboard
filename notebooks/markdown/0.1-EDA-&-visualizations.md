```python
import pandas as pd

df = pd.read_csv("../data/interim/online_retail_transformed.csv")
```


```python
df.info()
```

    <class 'pandas.core.frame.DataFrame'>
    RangeIndex: 485215 entries, 0 to 485214
    Data columns (total 8 columns):
     #   Column       Non-Null Count   Dtype  
    ---  ------       --------------   -----  
     0   InvoiceNo    485215 non-null  object 
     1   SKU          485215 non-null  object 
     2   Description  485215 non-null  object 
     3   Quantity     485215 non-null  int64  
     4   InvoiceDate  485215 non-null  object 
     5   UnitPrice    485215 non-null  float64
     6   CustomerID   485215 non-null  object 
     7   Country      485215 non-null  object 
    dtypes: float64(1), int64(1), object(6)
    memory usage: 29.6+ MB
    


```python
df['InvoiceDate'] = pd.to_datetime(df["InvoiceDate"])
```


```python
df.describe()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Quantity</th>
      <th>InvoiceDate</th>
      <th>UnitPrice</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>485215.000000</td>
      <td>485215</td>
      <td>485215.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>10.038443</td>
      <td>2011-07-07 06:17:45.718908160</td>
      <td>3.310267</td>
    </tr>
    <tr>
      <th>min</th>
      <td>-80995.000000</td>
      <td>2010-12-01 08:26:00</td>
      <td>0.001000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>1.000000</td>
      <td>2011-03-30 16:34:00</td>
      <td>1.250000</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>3.000000</td>
      <td>2011-07-24 12:20:00</td>
      <td>2.080000</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>12.000000</td>
      <td>2011-10-20 14:18:00</td>
      <td>4.130000</td>
    </tr>
    <tr>
      <th>max</th>
      <td>80995.000000</td>
      <td>2011-12-09 12:50:00</td>
      <td>1050.150000</td>
    </tr>
    <tr>
      <th>std</th>
      <td>226.855840</td>
      <td>NaN</td>
      <td>5.427859</td>
    </tr>
  </tbody>
</table>
</div>




```python
import matplotlib.pyplot as plt
import seaborn as sns
from scipy.stats.mstats import winsorize
```


```python
quantity_winsored = winsorize(df["Quantity"], limits=[0.1, 0.1])
```


```python
fig = plt.figure()
gs = fig.add_gridspec(1, 2)

ax1 = fig.add_subplot(gs[0, 0])
sns.violinplot(data = quantity_winsored, ax = ax1)

ax2 = fig.add_subplot(gs[0, 1])
sns.violinplot(data = quantity_winsored, bw="scott")

plt.tight_layout()
plt.show()
```

    C:\Users\spanu\AppData\Local\Temp\ipykernel_17108\1767479951.py:8: FutureWarning: 
    
    The `bw` parameter is deprecated in favor of `bw_method`/`bw_adjust`.
    Setting `bw_method='scott'`, but please see docs for the new parameters
    and update your code. This will become an error in seaborn v0.15.0.
    
      sns.violinplot(data = df["Quantity"], bw="scott")
    


    
![png](0.1-EDA-%26-visualizations_files/0.1-EDA-%26-visualizations_6_1.png)
    



```python
df["InvoiceDate"].dt.year.unique()
```




    array([2010, 2011], dtype=int32)




```python
print(f"Data from 2010: {len(df[df["InvoiceDate"].dt.year == 2010])}")
print(f"Data from 2011: {len(df[df["InvoiceDate"].dt.year == 2011])}")
```

    Data from 2010: 36826
    Data from 2011: 448389
    


```python
wght_10 = round(len(df[df["InvoiceDate"].dt.year == 2010]) / len(df[df["InvoiceDate"].dt.year == 2011]), 2)
wght_11 = 1 - wght_10

print(f"2010: {wght_10}")
print(f"2011: {wght_11}")
```

    2010: 0.08
    2011: 0.92
    


```python
df["Revenue"] = round(df["Quantity"] * df["UnitPrice"], 2) 
```
