```python
import pandas as pd

df = pd.read_csv("../data/interim/online_retail_no_outliers.csv")
```

    C:\Users\spanu\AppData\Local\Temp\ipykernel_12136\3567826387.py:3: DtypeWarning: Columns (1) have mixed types. Specify dtype option on import or set low_memory=False.
      df = pd.read_csv("../data/interim/online_retail_no_outliers.csv")
    


```python
df.info()
```

    <class 'pandas.core.frame.DataFrame'>
    RangeIndex: 91306 entries, 0 to 91305
    Data columns (total 9 columns):
     #   Column       Non-Null Count  Dtype  
    ---  ------       --------------  -----  
     0   Unnamed: 0   91306 non-null  int64  
     1   InvoiceNo    91306 non-null  object 
     2   SKU          91306 non-null  int64  
     3   Description  91306 non-null  object 
     4   Quantity     91306 non-null  int64  
     5   InvoiceDate  91306 non-null  object 
     6   UnitPrice    91306 non-null  float64
     7   CustomerID   91306 non-null  object 
     8   Country      91306 non-null  object 
    dtypes: float64(1), int64(3), object(5)
    memory usage: 6.3+ MB
    


```python
df['InvoiceDate'] = pd.to_datetime(df["InvoiceDate"])
```


```python
df.describe()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Unnamed: 0</th>
      <th>SKU</th>
      <th>Quantity</th>
      <th>InvoiceDate</th>
      <th>UnitPrice</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>91306.000000</td>
      <td>91306.000000</td>
      <td>91306.000000</td>
      <td>91306</td>
      <td>91306.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>244566.471010</td>
      <td>26918.460572</td>
      <td>6.868114</td>
      <td>2011-07-06 20:18:48.546864128</td>
      <td>1.949449</td>
    </tr>
    <tr>
      <th>min</th>
      <td>1.000000</td>
      <td>10002.000000</td>
      <td>-12.000000</td>
      <td>2010-12-01 08:26:00</td>
      <td>0.060000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>109674.250000</td>
      <td>21499.000000</td>
      <td>1.000000</td>
      <td>2011-03-21 10:41:00</td>
      <td>0.790000</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>244466.000000</td>
      <td>22297.000000</td>
      <td>3.000000</td>
      <td>2011-07-25 17:00:00</td>
      <td>1.250000</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>378321.000000</td>
      <td>23077.000000</td>
      <td>12.000000</td>
      <td>2011-10-30 11:48:30</td>
      <td>2.550000</td>
    </tr>
    <tr>
      <th>max</th>
      <td>485128.000000</td>
      <td>90194.000000</td>
      <td>28.000000</td>
      <td>2011-12-09 12:49:00</td>
      <td>8.320000</td>
    </tr>
    <tr>
      <th>std</th>
      <td>147402.804392</td>
      <td>16345.256445</td>
      <td>7.729066</td>
      <td>NaN</td>
      <td>1.717527</td>
    </tr>
  </tbody>
</table>
</div>




```python
from src import plots
```


```python
plots.violin_plot(df["Quantity"] ,"Quantity")
```


    
![png](0.1-EDA-%26-visualizations_files/0.1-EDA-%26-visualizations_5_0.png)
    



```python
plots.violin_plot(df["UnitPrice"], "Unit Price")
```


    
![png](0.1-EDA-%26-visualizations_files/0.1-EDA-%26-visualizations_6_0.png)
    



```python
df["InvoiceDate"].dt.year.unique()
```




    array([2010, 2011], dtype=int32)




```python
print(f"Data from 2010: {len(df[df["InvoiceDate"].dt.year == 2010])}")
print(f"Data from 2011: {len(df[df["InvoiceDate"].dt.year == 2011])}")
```

    Data from 2010: 7823
    Data from 2011: 83483
    


```python
wght_10 = round(len(df[df["InvoiceDate"].dt.year == 2010]) / len(df[df["InvoiceDate"].dt.year == 2011]), 2)
wght_11 = 1 - wght_10

print(f"2010: {wght_10}")
print(f"2011: {wght_11}")
```

    2010: 0.09
    2011: 0.91
    


```python
df["Revenue"] = round(df["Quantity"] * df["UnitPrice"], 2) 
```


```python
plots.winsorized_violin_plot(df["Revenue"], "Revenue", 0.1, 0.1)
```


    
![png](0.1-EDA-%26-visualizations_files/0.1-EDA-%26-visualizations_11_0.png)
    

